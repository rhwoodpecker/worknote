## æ‹–æ‹½äº‹ä»¶
**éœ€è¦ç”¨åˆ°çš„æ‹–æ‹½äº‹ä»¶**
- `dragenter`ï¼šå½“æ‹–åŠ¨çš„å…ƒç´ æˆ–è¢«é€‰æ‹©çš„æ–‡æœ¬è¿›å…¥æœ‰æ•ˆçš„æ”¾ç½®ç›®æ ‡æ—¶ï¼Œ `dragenter` äº‹ä»¶è¢«è§¦å‘ã€‚
- `dragleave`ï¼šå½“ä¸€ä¸ªè¢«æ‹–åŠ¨çš„å…ƒç´ æˆ–è€…è¢«é€‰æ‹©çš„æ–‡æœ¬ç¦»å¼€ä¸€ä¸ªæœ‰æ•ˆçš„æ‹–æ”¾ç›®æ ‡æ—¶ï¼Œå°†ä¼šè§¦å‘ `dragleave` äº‹ä»¶ã€‚
- `dragover`ï¼šå½“å…ƒç´ æˆ–è€…é€‰æ‹©çš„æ–‡æœ¬è¢«æ‹–æ‹½åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„æ”¾ç½®ç›®æ ‡ä¸Šæ—¶ï¼Œè§¦å‘ `dragover` äº‹ä»¶(æ¯å‡ ç™¾æ¯«ç§’è§¦å‘ä¸€æ¬¡)ã€‚è¿™ä¸ªäº‹ä»¶åœ¨å¯è¢«æ”¾ç½®å…ƒç´ çš„èŠ‚ç‚¹ä¸Šè§¦å‘ã€‚(å¿…é¡»é˜»æ­¢é»˜è®¤è¡Œä¸ºæ‰èƒ½è§¦å‘ `drop` äº‹ä»¶)
- `drop`ï¼šå½“ä¸€ä¸ªå…ƒç´ æˆ–æ˜¯é€‰ä¸­çš„æ–‡å­—è¢«æ‹–æ‹½é‡Šæ”¾åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„é‡Šæ”¾ç›®æ ‡ä½ç½®æ—¶ï¼Œ`drop` **äº‹ä»¶è¢«æŠ›å‡º**

## å®ç°æ€è·¯
1. åœ¨æ¯ä¸ªä¼šè¯ä¸Šé¢æ·»åŠ ä¸€ä¸ªè’™æ¿ç”¨äºæ¥æ”¶ `drag` äº‹ä»¶
2. å½“é¼ æ ‡æ‹–æ‹½åˆ°ä¼šè¯åŒºåŸŸæ—¶å€™è’™æ¿è¾¹æ¡†å±•ç¤ºï¼Œç§»é™¤æ—¶å€™éšè—
3. `drop` äº‹ä»¶è§¦å‘æ—¶å€™æ¨¡æ‹Ÿä¼šè¯å…ƒç´ ç‚¹å‡»ï¼Œå³è’™æ¿ `click()` 
4. åˆ‡æ¢ä¼šè¯åå°†æ–‡ä»¶æ·»åŠ åˆ°è¾“å…¥æ¡†ï¼Œ`setTimeout` äº‹ä»¶å¾ªç¯

## ä¸Šä»£ç 
**çˆ¶ç»„ä»¶**
```js
// å­ç»„ä»¶refï¼Œä¾›è°ƒç”¨å­ç»„ä»¶æ–¹æ³•å¤„ç†æ–‡ä»¶
const inputRef = useRef(null);

// ä¸»ä½“ç»„ä»¶æŒ‚è½½å®Œæ¯•æ·»åŠ äº‹ä»¶ç›‘å¬
useEffect(() => {
    document.addEventListener('dragenter', handleDragenter, false); // æ‹–æ‹½æ—¶
    document.addEventListener('dragleave', handleDragleave, false); // æ‹–æ‹½ç¦»å¼€
    document.addEventListener('dragover', handleDragover, false); // é˜»æ­¢é»˜è®¤äº‹ä»¶å»è§¦å‘drop
    document.addEventListener('drop', handleDrop, false); // æ‹–æ‹½æ”¾å¼€äº‹ä»¶

    return () => {
        document.removeEventListener('dragenter', handleDragenter);
        document.removeEventListener('dragleave', handleDragleave);
        document.removeEventListener('dragover', handleDragover);
        document.removeEventListener('drop', handleDrop);
    }
}, []);

const handleDragenter = (event: DragEvent) => {
    event.preventDefault();
    // ç‰¹å®šdivæ‰ç»™äºˆåé¦ˆï¼Œé€šè¿‡ç±»åæ ‡è¯†
    const className = (event.target as HTMLDivElement)?.getAttribute('class');
    if (className?.includes('dialog-drag-wrapper')) {
        (event.target as HTMLDivElement).style.border = '2px solid #4894f4';
    }
};

const handleDragleave = (event: DragEvent) => {
    // ç¦»å¼€çš„æ—¶å€™æ¢å¤
    const className = (event.target as HTMLDivElement)?.getAttribute('class');
    if (className?.includes('dialog-drag-wrapper')) {
        (event.target as HTMLDivElement).style.border = 'none';
    }
};

const handleDragover = (event: DragEvent) => {
    // é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œæ‰èƒ½è§¦å‘dropäº‹ä»¶
    event.preventDefault();
};

const handleDrop = useCallback((event: DragEvent) => {
    // æ‹–æ‹½ç»“æŸ
    // è·å–æ‹–æ‹½æ–‡ä»¶
    const files = event.dataTransfer?.files;
    event.preventDefault();
    const className = (event.target as HTMLDivElement)?.getAttribute('class');
    if (className?.includes('dialog-drag-wrapper')) {
        // æ¢å¤æ‹–æ‹½æ¥æ”¶åŒºåŸŸæ ·å¼
        (event.target as HTMLDivElement).style.border = 'none';
        // æ¨¡æ‹Ÿæ‹–æ‹½åŒºåŸŸç‚¹å‡»äº‹ä»¶
        (event.target as HTMLDivElement).click();
        setTimeout(() => {
            // ç­‰å¾…ä¼šè¯åˆ‡æ¢å®Œæˆå¤„ç†è¾“å…¥æ¡†çš„æ–‡ä»¶
            // @ts-ignore
            inputRef?.current?.handleFiles(files);
        });
    }
}, []);

return (
    <div>
        ...
        <InputPannel cRef={inputRef} />
    </div>
)
```
**å­ç»„ä»¶è¾“å…¥æ¡†**
```js
interface InputPannelProps {
    cRef: any;
}

const InputPannel: React.FC<InputPannelProps> = ({ cRef }) => {
    // é€šè¿‡é’©å­ğŸªä¾›çˆ¶ç»„ä»¶è°ƒç”¨
    useImperativeHandle(cRef, () => ({
        handleFiles: (files) => {
            handleChangeFile(files);
        }
    }));

    const handleChangeFile = (files) => {
        // å¤„ç†æ–‡ä»¶åˆ—è¡¨ï¼Œå¯ä»¥å’Œé€‰æ‹©æ–‡ä»¶å…±ç”¨ä¸€å¥—é€»è¾‘,ç„¶åå°†æ–‡ä»¶æ¸²æŸ“åœ¨å¯ç¼–è¾‘divåŒºåŸŸ
    }

    return (
        <div>
            <div contentEditable={true} />
            <input type="file" onChange={(e) => handleChangeFile(e.target.files)}/>
        </div>
    )
}
```